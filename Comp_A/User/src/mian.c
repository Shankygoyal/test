/***************************************************************************************************
  * 文    件：mian.c    
  * 作    者：longwei
  * 编写日期：2012/7/9
  * 版    本：V1.0
  * 开 发 板：MSP430G2553 TI开发板
  * 修改时间：2012/7/15 
  * 编 译 器: IAR.5.20
  *-------------------------------------------------------------------------------------------------
  * 简    介：用定时器和比较器实现电阻的测量，测量误差小于5%    
  *************************************************************************************************/    
/*包含--------------------------------------------------------------------------------------------*/
#include "main.h"
/* 私有定义结构体 --------------------------------------------------------------------------------*/
/* 私有宏-----------------------------------------------------------------------------------------*/
/* 私有变量 --------------------------------------------------------------------------------------*/
long AD_Temp[20];
/* 私有函数模型 ----------------------------------------------------------------------------------*/
static void Sys_Init(void);
void main(void)
{
  Sys_Init();
  InitADline();
  OffsetAD();
  while(1)
  {
    for(uint8_t i=0;i<20;i++)
    {
      AD_Temp[i]=ReadAD();
    }
  }
//  Comp_Init();
//  LCD_Init();
//  Display_Str(0,2,"电阻测量");
//  Display_Str(1,0,"电阻值：");
//  Display_Str(2,6,"Ω");
//  Timer_Base_Conf();//捕获配置
//  __bis_SR_register(GIE);  
//  while(1)
//  {
//    _NOP();
//  }
}
/***************************************************************************************************
  * 描述   :  系统初始化
  * 参数   :  无
  * 返回   :  无
  * 注意   :  无
  *************************************************************************************************/
static void Sys_Init(void)
{
  WDTCTL = WDTPW + WDTHOLD;                 // 停止看门狗
  DCOCLK_Set(_8MHZ);//DCO频率为8MHz
  ACLK_Set(LF,DIVA_0);//ACLK频率为32.768KHz
  SMCLK_Set(SM_DCO_CLK,DIVS_0);//SMCLK=DCOCLK
  MCLK_Set(M_DCO_CLK,DIVM_0);//MCLK=DCOCLK  
}
/******************* (C) 版权 2012 longwei *****文件结束*******************************************/




